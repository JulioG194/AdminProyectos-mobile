<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="tabs/tabs/tab3"></ion-back-button>
        </ion-buttons>
        <ion-title>Vista Proyecto</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding>

    <ion-card>

        <ion-item>
            <!--  <ion-avatar item-left>
                <img src="https://avatars.io/facebook/joshua.morony" />
            </ion-avatar> -->
            <h2>{{ projectApp.name }}</h2>
            <!-- <p>November 5, 1955</p> -->
        </ion-item>

        <!--  <img src="http://placehold.it/500x200" />
 -->
        <ion-card-content>
            <h2>Cliente: {{ projectApp.client }}</h2>
            <p>Tipo: {{ projectApp.type }}</p>
            <h3>
                Fecha de Inicio: {{projectApp.start_date | date : "dd/MM/y"}}
            </h3>
            <h3>
                Fecha de Fin: {{projectApp.end_date | date : "dd/MM/y"}}
            </h3>
            <p>
                Descripcion: {{ projectApp.description }}
            </p>
        </ion-card-content>
    </ion-card>

    <ion-item>
        <!--  <p style="font-size: 18px; color:#428cff">Actividades del Proyecto</p> -->
        <ion-list-header color="light">Actividades del proyecto
            <ion-button color="primary" icon-left>
                <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
            </ion-button>
        </ion-list-header>
        <!-- <ion-button style="margin-left: 65px;">Nueva</ion-button> -->

    </ion-item>
    <!-- <ion-list>
        <div *ngFor="let act of activitiesProject; let i = index">
            <ion-item>
                <ion-label>
                    <p>{{ act.name }}</p>
                </ion-label>
            </ion-item>
        </div>
    </ion-list> -->
    <ion-list *ngFor="let item of activitiesProject; let i = index;" class="accordion-list" lines="none" detail="false" no-padding>
        <ion-card>
            <ion-card-content>
                <!--  <ion-item-divider> -->
                <ion-item-sliding>
                    <ion-item tappable (click)="toggleSection(i)" [ngClass]="{'section-active': item.active, 'section': !item.active}">
                        <ion-icon slot="end" name="arrow-forward" *ngIf="!item.active"></ion-icon>
                        <ion-icon slot="end" name="arrow-down" *ngIf="item.active"></ion-icon>
                        <ion-label color="danger">
                            {{item.name}}
                            <p style="font-size: 10px; color:#428cff">Fecha de Inicio: {{allstartdates[i] | date : "dd/MM/y"}}</p>
                            <p style="font-size: 10px; color:#428cff">Fecha de Fin: {{allenddates[i] | date : "dd/MM/y"}}</p>
                            <p style="font-size: 10px; color:seagreen">%Avance: {{item.percentaje}}</p>
                        </ion-label>
                    </ion-item>


                    <ion-item-options side="end">
                        <ion-button color="primary" icon-left>
                            <ion-icon slot="icon-only" name="create"></ion-icon>
                        </ion-button>
                        <ion-button color="danger" icon-left>
                            <ion-icon slot="icon-only" name="trash"></ion-icon>
                        </ion-button>
                    </ion-item-options>
                </ion-item-sliding>
                <!--  </ion-item-divider> -->



                <div *ngIf="item.tasks?.length > 0 && item.active">
                    <!-- <ion-list-header color="light">Tareas</ion-list-header> -->
                    <ion-item>
                        <!--  <p style="font-size: 18px; color:#428cff">Actividades del Proyecto</p> -->
                        <ion-list-header color="light">Tareas
                            <ion-button color="primary" icon-left>
                                <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
                            </ion-button>
                        </ion-list-header>

                    </ion-item>
                    <ion-list class="child-list" *ngFor="let child of item.tasks; let j = index;" lines="none">
                        <ion-item-divider>
                            <ion-item-sliding>
                                <ion-item tappable [ngClass]="{'child-active': child.active, 'child': !child.active}">
                                    <ion-avatar item-left="item-left">
                                        <img style="width:45px;height:45px;" [src]="child.delegate.photo"></ion-avatar>
                                    <ion-label style="margin-left: 20px;">
                                        {{child.name}}
                                        <p style="font-size: 10px; color:black">Fecha de Inicio: {{child.start_date | date : "dd/MM/y"}}</p>
                                        <p style="font-size: 10px; color:black">Fecha de Fin: {{child.end_date | date : "dd/MM/y"}}</p>
                                        <p style="font-size: 10px; color:seagreen">%Avance: {{child.progress}}</p>
                                    </ion-label>
                                    <ion-button color="warning" icon-left>
                                        <ion-icon slot="icon-only" name="folder-open-outline"></ion-icon>
                                    </ion-button>
                                </ion-item>
                                <ion-item-options side="start">
                                    <ion-button color="secondary" icon-left>
                                        <ion-icon slot="icon-only" name="checkmark-circle-outline"></ion-icon>
                                    </ion-button>
                                    <ion-button color="danger" icon-left>
                                        <ion-icon slot="icon-only" name="help-circle-outline"></ion-icon>
                                    </ion-button>
                                </ion-item-options>
                                <ion-item-options side="end">
                                    <ion-button color="primary" icon-left>
                                        <ion-icon slot="icon-only" name="create"></ion-icon>
                                    </ion-button>
                                    <!--  <ion-button color="secondary" icon-left>
                            <ion-icon slot="icon-only" name="folder-open-outline"></ion-icon>
                        </ion-button> -->
                                    <ion-button color="danger" icon-left>
                                        <ion-icon slot="icon-only" name="trash"></ion-icon>
                                    </ion-button>
                                </ion-item-options>
                            </ion-item-sliding>
                        </ion-item-divider>
                    </ion-list>
                </div>


            </ion-card-content>
        </ion-card>
    </ion-list>


</ion-content>